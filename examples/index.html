<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta power-app-id="a123456">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>前端监控</title>
  <style>
    html, body {
      width: 100%;
      height: 100%;
    }
    .demo1{
      width: 100%;
      height: 100%;
      background: red;
    }
    .demo2{
      height: 100%;
      background: yellow;
    }
  </style>
</head>
<body power-page-id="b123456">
<div class="demo1">hell</div>
<div class="demo2" appear></div>
<script>
  const demo2 = document.getElementsByClassName('demo2')
  demo2[0].addEventListener('appear', (e) => {
    console.log('appear on')
    window.powerMonitor.sendExp({
      a: 1,
      b: 2
    })

  })

  window.onload = function() {
    const m = window.powerMonitor
     m.registerBeforeCreateParams(() => {
      console.log("create Param")
    })
    m.registerBeforeUpload((data) => {
      return data + 1353
    })
    m.registerAfterUpload((data) => {
      return data + 1353
    })
    m.registerOnError((e) => {
      console.log(e)
    })
    m.sendPv()


   
  }
 
</script>

  
</body>
</html>